---
title: 软件设计师中级
date: 2024-03-28
category:
  - 备考
---

## 1.1-数据的表示

### 1-1-2-进制转换

![image-20240328235807899](http://www.iocaop.com/images/2024-03/202403282358962.png)

![image-20240329000059742](http://www.iocaop.com/images/2024-03/202403290000807.png)

（可选）：

![image-20240329000427932](http://www.iocaop.com/images/2024-03/202403290004008.png)

![image-20240329000804385](http://www.iocaop.com/images/2024-03/202403290008444.png)

### 1.1.3-码制

原反补：注意反码（正数反码和原码一样）。移码是符号位取反

![image-20240329001633139](http://www.iocaop.com/images/2024-03/202403290016220.png)

注意定点整数补码的-128(原码中的+0和-0)和定点小数的-1是人为规定。

![image-20240329003606813](http://www.iocaop.com/images/2024-03/202403290036892.png)

例题：

1.注意人为规定取值-4

![image-20240329004953309](http://www.iocaop.com/images/2024-03/202403290049367.png)

2.注意补码求原码，先看符号位，负数求反码(取反加1即可，不用按视频中的-1，用上模的概念)，再求补码

![image-20240329010146706](http://www.iocaop.com/images/2024-03/202403290101774.png)

### 1.1.4-浮点数表示

考试时概念居多：

![image-20240329011137496](http://www.iocaop.com/images/2024-03/202403290111584.png)

例题：

![image-20240329011338241](http://www.iocaop.com/images/2024-03/202403290113296.png)

![image-20240329012515341](http://www.iocaop.com/images/2024-03/202403290125447.png)

### 1.1.5-逻辑运算

![image-20240330133040915](http://www.iocaop.com/images/2024-03/202403301330975.png)

![image-20240330133224743](http://www.iocaop.com/images/2024-03/202403301332800.png)

![image-20240330133541221](http://www.iocaop.com/images/2024-03/202403301335285.png)

例题：

![image-20240330134057434](http://www.iocaop.com/images/2024-03/202403301340503.png)

![image-20240330134207879](http://www.iocaop.com/images/2024-03/202403301342932.png)

## 1.2-校验码

### 1.2.1-概述

![image-20240330134341950](http://www.iocaop.com/images/2024-03/202403301343982.png)

### 1.2.2-奇偶校验

为什么要有校验码?防止发送过程中，数据错乱，0变为1或者1变为0了，和原来不一样了。在原有的信息基础上增加冗余信息，帮助校验。

码字的码距：两个码字的码距是一个编码系统中任意两个合法编码（码字）之间不同的二进制数位数

![image-20240330135514735](http://www.iocaop.com/images/2024-03/202403301355789.png)

奇偶校验有局限性，如发送00，接受到11，校验不出来，且不能纠错。

![image-20240330142737516](http://www.iocaop.com/images/2024-03/202403301427595.png)

例题：

![image-20240330143001795](http://www.iocaop.com/images/2024-03/202403301430858.png)

### 1.2.3-CRC冗余校验

中级考试不涉及编码求取。

![image-20240330143201674](http://www.iocaop.com/images/2024-03/202403301432726.png)

例题：

![image-20240330143253997](http://www.iocaop.com/images/2024-03/202403301432024.png)

### 1.2.4-海明校验

即可检错，也可纠错

![image-20240330143329801](http://www.iocaop.com/images/2024-03/202403301433836.png)

海明校验码位数求取：

**2^r >= m+r+1**,r是校验位位数，m是信息位位数

![image-20240330143811680](http://www.iocaop.com/images/2024-03/202403301438744.png)

例题：

![image-20240330144012229](http://www.iocaop.com/images/2024-03/202403301440279.png)

![image-20240401215159158](http://www.iocaop.com/images/2024-04/202404012151230.png)

### 1.3-CPU组成（控制器与运算器）

![image-20240401220125656](http://www.iocaop.com/images/2024-04/202404012201728.png)

![image-20240401220139466](http://www.iocaop.com/images/2024-04/202404012201518.png)

状态条件寄存器的分类存在争议，也可以划分到控制器中。

![image-20240401220339487](http://www.iocaop.com/images/2024-04/202404012203533.png)

![image-20240401220851412](http://www.iocaop.com/images/2024-04/202404012208463.png)

![image-20240401220905576](http://www.iocaop.com/images/2024-04/202404012209608.png)

![image-20240401221147211](http://www.iocaop.com/images/2024-04/202404012211250.png)

![image-20240401221200835](http://www.iocaop.com/images/2024-04/202404012212872.png)

### 1.4-寻址方式

![image-20240401221851045](http://www.iocaop.com/images/2024-04/202404012218111.png)

例题：

![image-20240401222019597](http://www.iocaop.com/images/2024-04/202404012220634.png)

### 1.5-CISC和RISC

![image-20240401222102121](http://www.iocaop.com/images/2024-04/202404012221179.png)

![image-20240401222308358](http://www.iocaop.com/images/2024-04/202404012223395.png)

![image-20240401222427668](http://www.iocaop.com/images/2024-04/202404012224708.png)

### 1.6-流水线

流水线是准并行

![image-20240401222620432](http://www.iocaop.com/images/2024-04/202404012226495.png)



![image-20240401223526986](http://www.iocaop.com/images/2024-04/202404012235013.png)

> 周期为执行时间最长的阶段的时间，k为执行过程分解为几步，n为指令条数
>
> 默认使用理论公式，没有再用实践公式

![image-20240401224330506](http://www.iocaop.com/images/2024-04/202404012243571.png)

> 理论公式的理解：由图所示，在进行1的取指后，同时进行1的分析和2的取指，在进行完1的分析后执行1的执行，但是需要等待2的取指完成再进行2的分析，然后在1的执行完成后进行2的执行。最后，由图可得，最下面(2222,3333)，每个流水线周期完成1条指令是4△t，所以：
>
> 总时间为第一个指令的总时间，加上后面所有任务的时间（数量*周期时间），周期时间是执行周期最长的一段
>
> **(t1+t2+t3+...+tk)+(n-1)*t**

> 实践公式：和理论公式类似，但是第一个任务的时间是按每个阶段都以指令周期来算(最长的一段)，所以公式是**k*t+(n-1)\*t**

吞吐率：指令条数/执行总时间

最大吞吐率计算：指令周期的倒数

![image-20240402002137290](http://www.iocaop.com/images/2024-04/202404020021371.png)

例题：

![image-20240402002343507](http://www.iocaop.com/images/2024-04/202404020023559.png)

## 1.7-存储系统

### 1.7.1-概述

![image-20240402003014284](http://www.iocaop.com/images/2024-04/202404020030309.png)

### 1.7.2-层次化存储

![image-20240402003520951](http://www.iocaop.com/images/2024-04/202404020035003.png)

![image-20240402003825704](http://www.iocaop.com/images/2024-04/202404020038730.png)

三级存储体系：cache+内存+外存

![image-20240402004410169](http://www.iocaop.com/images/2024-04/202404020044236.png)

相联存储器：是一种不根据地址而是根据存储内容来进行存取的存储器。<a href='https://baike.baidu.com/item/%E7%9B%B8%E8%81%94%E5%AD%98%E5%82%A8%E5%99%A8/7673751?fr=ge_ala'>点击跳转</a>

SRAM 在工作时不需要刷新，而 DRAM 在工作时需要定期刷新，否则数据就会丢失。

例题：

![image-20240402004656774](http://www.iocaop.com/images/2024-04/202404020046823.png)

![image-20240402004715971](http://www.iocaop.com/images/2024-04/202404020047002.png)

虚拟存储体系：主存不够时，用外存。<a href='https://baike.baidu.com/item/%E8%99%9A%E6%8B%9F%E5%AD%98%E5%82%A8%E5%99%A8/944209?fr=ge_ala'>点击跳转</a>

![image-20240402004859532](http://www.iocaop.com/images/2024-04/202404020048576.png)

### 1.7.3-Cache

![image-20240402133800177](http://www.iocaop.com/images/2024-04/image-20240402133800177.png)

![image-20240402134451984](http://www.iocaop.com/images/2024-04/202404021344037.png)

> 公式含义：平均周期=命中率\*cache周期时间+未命中率\*主存周期时间

从主存复制了一部分数据到Cache中。

![image-20240402134713089](http://www.iocaop.com/images/2024-04/202404021347132.png)

地址映象：

![image-20240402134923020](http://www.iocaop.com/images/2024-04/202404021349057.png)

如何将2048个页放到16个页中？具体怎么映射（不需要操作系统和程序员参与）：

* 直接相联映像：

  将主存划分成n个与Cache相同大小的区域，每个区域和cache一样，有16个页。

  ![image-20240410235703538](http://www.iocaop.com/images/2024-04/202404102357596.png)

  每个区域的0号页都与cache的0号页映射，1号也是如此，以此类推。

  此时，主存的地址格式：

  ![image-20240411001506353](http://www.iocaop.com/images/2024-04/202404110015389.png)

  **电路实现简单，但是冲突率高。**

  什么是冲突？当我们将0号区的0号页放到cache的0号页，就不能将其他区的0号页放到cache，否则就会冲突。

  极端情况：把0号区0-14号页都放入cache，那么就只有127个区的15号页可以放入cache，有2048-15（0-14页已放入的）-128（15页可放入的）个页不能放入cache，冲突了。冲突率可以达到90%

* 全相联映像

  ![image-20240411002612070](http://www.iocaop.com/images/2024-04/202404110026041.png)

  主存中的任意页可以放到cache中的任意页。

  主存地址格式：

  ![image-20240411002715791](http://www.iocaop.com/images/2024-04/202404110027813.png)

  电路复杂，冲突率低

* 组相联映像

  ![image-20240411003425102](http://www.iocaop.com/images/2024-04/202404110034142.png)

  主存按cache的页的大小进行分页，分完页再分区。在这些区中，再进行分组，每组2个页，对应cache中也是如此。

  相同组号的主存中的任意页面可以放到相同组号的cache的任意页面。

  主存地址格式：

  ![image-20240411003853784](http://www.iocaop.com/images/2024-04/202404110038808.png)

  电路复杂度相对其他两种，折中，冲突率也是折中。

总结：

![image-20240411004048994](http://www.iocaop.com/images/2024-04/202404110040028.png)

例题：

![image-20240411004119711](http://www.iocaop.com/images/2024-04/202404110041752.png)

![image-20240411004435481](http://www.iocaop.com/images/2024-04/202404110044516.png)

![image-20240411004455338](http://www.iocaop.com/images/2024-04/202404110044383.png)

### 1.7.4-主存编址计算

![image-20240415230309956](http://www.iocaop.com/images/2024-04/202404152303985.png)

在计算机中找到一个位是很麻烦的，但是找到一行就很简单了，将4个比特位作为一行，也叫存储单元，找起来就简单多了。

一般是32个字节，考试中是16个字节（如果没给出，默认32）。

![image-20240415230556864](http://www.iocaop.com/images/2024-04/202404152305909.png)

垂直拼接：

![image-20240415230635499](http://www.iocaop.com/images/2024-04/202404152306526.png)

水平拼接：

![image-20240415230702084](http://www.iocaop.com/images/2024-04/202404152307132.png)

公式：

![image-20240415231132514](http://www.iocaop.com/images/2024-04/202404152311565.png)

例题：

![image-20240415231736217](http://www.iocaop.com/images/2024-04/202404152317260.png)

解析：

第一空：

求总容量:

* 给了地址范围可以求出存储单元个数：

CFFFFH-A0000H+1可以先算后面的加1，变成D0000H-A0000H=30000H，也就是3\*2^16个存储单元。

* 题干说内存按字节编址，1B=8bit。选项容量单位是KB，存储单元个数化成K=3\*2^10\*2^6=3*2^6K，本身就是字节编址，所以总容量就是3\*2^6KB=192KB

第二空：

用64K*8bit的存储器芯片构成192KB的空间，则：

芯片数：总容量/单位芯片容量

192KB/64KB=3

## 1.8-输入输出系统

cpu控制数据传输，io是内存和外设之间的数据交互，内存较快，外设较慢。

![image-20240417234216308](http://www.iocaop.com/images/2024-04/202404172342377.png)

程序查询方式是cpu一直查询外设，进行询问。

中断方式是需要io时中断，没有中断时cpu可以做其他事，中断操作之后可以继续做其他事：

![image-20240417234600119](http://www.iocaop.com/images/2024-04/202404172346169.png)

DMA无需cpu参与，由DMAC进行，<a href='https://blog.csdn.net/baidu_31437863/article/details/114824649'>点击跳转</a>

例题：

![image-20240417234802181](http://www.iocaop.com/images/2024-04/202404172348228.png)

![image-20240417234841995](http://www.iocaop.com/images/2024-04/202404172348052.png)

![image-20240417234859472](http://www.iocaop.com/images/2024-04/202404172348511.png)

## 1.9-总线系统

![image-20240417235003263](http://www.iocaop.com/images/2024-04/202404172350310.png)

例题：

![image-20240417235104892](http://www.iocaop.com/images/2024-04/202404172351934.png)

## 1.10-可靠性

![image-20240417235420776](http://www.iocaop.com/images/2024-04/202404172354835.png)

![image-20240417235858619](http://www.iocaop.com/images/2024-04/202404172358671.png)

串联：R1到R所有系统都可用才行，所以累乘

并联：只要有一个可用，整个系统就可用。所以用1减去所有系统都不可用的概率。

![image-20240418000050107](http://www.iocaop.com/images/2024-04/202404180000159.png)

例题：

![image-20240418000119085](http://www.iocaop.com/images/2024-04/202404180001143.png)

![image-20240418000221882](http://www.iocaop.com/images/2024-04/202404180002941.png)

## 1.11-性能指标

![image-20240418000828293](http://www.iocaop.com/images/2024-04/202404180008370.png)

例题：

![image-20240418000903757](http://www.iocaop.com/images/2024-04/202404180009802.png)

![image-20240418001057575](http://www.iocaop.com/images/2024-04/202404180010620.png)

注意约分和单位换算。

## 1.12-小结

![image-20240418001725948](http://www.iocaop.com/images/2024-04/202404180017996.png)

![image-20240418001738601](http://www.iocaop.com/images/2024-04/202404180017692.png)

## 2.1 -操作系统概念

### 2.1.2-操作系统的作用

![image-20240418002122876](http://www.iocaop.com/images/2024-04/202404180021925.png)

例题：

![image-20240418002208531](http://www.iocaop.com/images/2024-04/202404180022583.png)

### 2.1.3-特殊的操作系统

![image-20240418002247448](http://www.iocaop.com/images/2024-04/202404180022525.png)

例题：

![image-20240418002524278](http://www.iocaop.com/images/2024-04/202404180025320.png)

## 2.2进程的概念

### 2.2.2-线程概念

![image-20240418003311062](http://www.iocaop.com/images/2024-04/202404180033111.png)

![image-20240418003327556](http://www.iocaop.com/images/2024-04/202404180033600.png)

![image-20240418003431476](http://www.iocaop.com/images/2024-04/202404180034539.png)

例题：

![image-20240418003505243](http://www.iocaop.com/images/2024-04/202404180035285.png)

### 2.2.3-进程的状态

三状态模型：

 ![image-20240418003748047](http://www.iocaop.com/images/2024-04/202404180037109.png)

![image-20240418004022443](http://www.iocaop.com/images/2024-04/202404180040500.png)

例题：

![image-20240418004252310](http://www.iocaop.com/images/2024-04/202404180042382.png)

首先，单处理机，排除B，不可能有2个运行的。

再排除D，p3和p4不可能直接从阻塞变成运行。

然后排除A，如果p1变为就绪或者等待，那么p2一定会变为运行。

然后得出第一空，时间片到了，p1变为就绪。

## 2.3-进程调度

### 2.3.2-PV原语概述

![image-20240418004814980](http://www.iocaop.com/images/2024-04/202404180048041.png)

![image-20240418005058794](http://www.iocaop.com/images/2024-04/202404180050866.png)

信号量的值一般设置为资源的数量。

P是加锁，v是解锁。

例题：

![image-20240418005341086](http://www.iocaop.com/images/2024-04/202404180053124.png)

![image-20240418005423909](http://www.iocaop.com/images/2024-04/202404180054987.png)

### 2.2.3-信号量和PV操作

互斥模型：

![image-20240418005727866](http://www.iocaop.com/images/2024-04/202404180057912.png)

同步模型：

![image-20240418010059943](http://www.iocaop.com/images/2024-04/202404180100999.png)

综合模型：

![image-20240418010301509](http://www.iocaop.com/images/2024-04/202404180103563.png)

例题：

![image-20240418010749189](http://www.iocaop.com/images/2024-04/202404180107251.png)

![image-20240418010758812](http://www.iocaop.com/images/2024-04/202404180107856.png)

s信号量应该是临界资源的数据，只有一个Temp，所以s初始值为1

a处应该对temp加锁，b、c两处都是释放锁，只是处于不同情况下。

### 2.3.4-前驱图与PV操作

![image-20240419001116329](http://www.iocaop.com/images/2024-04/202404190011409.png)

例题：

![image-20240419001510830](http://www.iocaop.com/images/2024-04/202404190015910.png)

![image-20240419001538852](http://www.iocaop.com/images/2024-04/202404190015933.png)

![image-20240419001813494](http://www.iocaop.com/images/2024-04/202404190018579.png)

## 2.4-死锁资源数的计算

![image-20240419002219089](http://www.iocaop.com/images/2024-04/202404190022161.png)

![image-20240419010502493](http://www.iocaop.com/images/2024-04/202404190105562.png)

最乐观的情况，4个资源都在同一个进程。

最悲观的情况，5个进程都刚好差1个资源。

所以，在最悲观的情况加额外增加一个资源就可以避免死锁了。

![image-20240419010714402](http://www.iocaop.com/images/2024-04/202404190107442.png)

得出公式：

![image-20240419010730692](http://www.iocaop.com/images/2024-04/202404190107729.png)

W：每个进程执行所需资源数

M：进程数

N：总的可用资源数

例题：

代公式

![image-20240419011141730](http://www.iocaop.com/images/2024-04/202404190111801.png)

## 2.5-进程资源图

![image-20240419011407757](http://www.iocaop.com/images/2024-04/202404190114839.png)

例题：

![image-20240419011846082](http://www.iocaop.com/images/2024-04/202404190118155.png)

这种题，先看资源分配，R1和R2向外分配了多少，然后算出R1和R2剩余资源数，然后再来看申请资源，够不够，如果不够就是阻塞节点，足够就是非阻塞节点，如果非阻塞节点执行完后释放资源可以满足其他节点执行，就可以一步步化简。

## 2.6-段页式存储

### 2.6.1-概述

缺页中断就是要访问的页不在主存，需要操作系统将其调入主存后再进行访问。

调入的方式有：

![image-20240423161037841](http://www.iocaop.com/images/2024-04/202404231610877.png)

### 2.6.2-页式存储



